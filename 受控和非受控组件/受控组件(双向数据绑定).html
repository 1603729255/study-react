<!DOCTYPE html>
<html lang='en'>

<head>
  <meta charset='UTF-8'>
  <title>react-study</title>
</head>

<body>
  <div id='app'></div>
  <script crossorigin src='https://unpkg.com/react@16/umd/react.development.js'></script>
  <script crossorigin src='https://unpkg.com/react-dom@16/umd/react-dom.development.js'></script>
  <script src='https://unpkg.com/babel-standalone@6/babel.min.js'></script>
</body>

</html>
<script type='text/babel'>

  /* 
    高阶函数：如果一个函数符合下面两个规范任何一个
      a函数接收的参数是一个函数，则a可以称之为高阶函数
      a函数调用的返回值是一个函数，则a可以称之为高阶函数
      常见的高阶函数：
      Promise setTimeout arr.map

    函数柯里化：通过调用函数继续返回函数的方式，实现多次接受参数最后统一处理的函数
  */
  class Login extends React.Component {
    render() {
      return (
        // <form onSubmit={this.handleSubmit}>
        //   用户名: <input onChange={this.saveFormData('username')} type="text" name="username" />
        //   密码: <input onChange={this.saveFormData('password ')} type="password" name="password" />
        //   <button>登录</button>
        // </form>
        <form onSubmit={this.handleSubmit}>
          用户名: <input onChange={event=>this.saveFormData('username',event)} type="text" name="username" />
          密码: <input onChange={event=>this.saveFormData('password',event)} type="password" name="password" />
          <button>登录</button>
        </form>
      )
    }

    state = { username: '', password: "" }

    // saveFormData = (dataType) => {//柯里化写法
    //   return (event) => {
    //     console.log(dataType, event.target.value);
    //     this.setState = { [dataType]: event.target.value }
    //   }
    // }
    saveFormData=(dataType,event)=>{
      this.setState = { [dataType]: event.target.value }
    }


    handleSubmit = (event) => {
      event.preventDefault();
      const { username, password } = this.state
      console.log(username, password)
    }
  }
  ReactDOM.render(<Login />, document.getElementById('app'))
</script>
